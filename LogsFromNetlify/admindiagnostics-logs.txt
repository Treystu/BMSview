Nov 5, 02:36:32 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:32.721Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"7ms","message":"Admin diagnostics endpoint called.","method":"POST","body":{"selectedTests":["insightsWithTools","systemAnalytics"]},"context":{}}
Nov 5, 02:36:32 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:32.729Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"8ms","message":"Running all diagnostic tests (comprehensive mode)","context":{}}
Nov 5, 02:36:32 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:32.729Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"8ms","message":"Running diagnostic: Testing Database Connection...","context":{}}
Nov 5, 02:36:33 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:33.552Z","level":"INFO","function":"utils/mongodb","requestId":"unknown","elapsed":"1001ms","message":"MongoDB connected successfully with optimized pool settings","context":{}}
Nov 5, 02:36:33 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:33.745Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"1024ms","message":"Database connection test completed successfully.","duration":1016,"context":{}}
Nov 5, 02:36:33 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:33.745Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"1024ms","message":"Running diagnostic: Testing Gemini API Health...","context":{}}
Nov 5, 02:36:34 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:34.578Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"1857ms","message":"Gemini API health check completed.","duration":830,"context":{}}
Nov 5, 02:36:34 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:34.579Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"1858ms","message":"Running diagnostic: Testing Analyze Endpoint (synchronous mode)...","context":{}}
Nov 5, 02:36:34 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:34.579Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"1858ms","message":"Sending analyze request","url":"https://bmsview.netlify.app/.netlify/functions/analyze?sync=true&force=true","fileName":"diagnostic-analyze-test.png","context":{}}
Nov 5, 02:36:35 PM: 7249f1a3 WARN   {"timestamp":"2025-11-06T00:36:35.685Z","level":"WARN","function":"admin-diagnostics","requestId":"unknown","elapsed":"2964ms","message":"Analyze endpoint returned non-OK response","duration":1105,"statusCode":400,"responseData":{"error":{"code":"invalid_image","message":"Missing image payload"}},"context":{}}
Nov 5, 02:36:35 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:35.686Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"2965ms","message":"Running diagnostic: Testing Synchronous Analysis...","context":{}}
Nov 5, 02:36:35 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:35.686Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"2965ms","message":"Starting analysis pipeline.","fileName":"diagnostic-sync-test.png","stage":"pipeline-start","context":{}}
Nov 5, 02:36:35 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:35.686Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"2965ms","message":"Starting data extraction.","fileName":"diagnostic-sync-test.png","stage":"extraction","context":{}}
Nov 5, 02:36:35 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:35.686Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"2965ms","message":"Sending request to Gemini API via custom client.","model":"gemini-2.5-flash","context":{}}
Nov 5, 02:36:35 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:35.687Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"2966ms","message":"Gemini API request","attempt":1,"maxRetries":4,"context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.163Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5442ms","message":"Gemini API response","duration":2476,"attempt":1,"context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.164Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5443ms","message":"Received response from Gemini API via custom client.","durationMs":2477,"context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.164Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"5443ms","message":"Raw AI response received.","length":414,"preview":"{\"dlNumber\": \"UNKNOWN\", \"stateOfCharge\": 0, \"overallVoltage\": 0, \"current\": 0, \"remainingCapacity\": 0, \"fullCapacity\": null, \"power\": 0, \"chargeMosOn\": false, \"dischargeMosOn\": false, \"balanceOn\": fal","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.164Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"5443ms","message":"Successfully parsed JSON from AI response.","parsedKeys":["dlNumber","stateOfCharge","overallVoltage","current","remainingCapacity","fullCapacity","power","chargeMosOn","dischargeMosOn","balanceOn","highestCellVoltage","lowestCellVoltage","averageCellVoltage","cellVoltageDifference","cycleCount","temperatures","mosTemperature","cellVoltages","timestampFromImage"],"context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.164Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5443ms","message":"Data extraction complete.","fileName":"diagnostic-sync-test.png","stage":"extraction","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.164Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5443ms","message":"Processing and analyzing data.","fileName":"diagnostic-sync-test.png","stage":"processing","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.164Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"5443ms","message":"Mapping extracted data to analysis schema.","extractedKeys":["dlNumber","stateOfCharge","overallVoltage","current","remainingCapacity","fullCapacity","power","chargeMosOn","dischargeMosOn","balanceOn","highestCellVoltage","lowestCellVoltage","averageCellVoltage","cellVoltageDifference","cycleCount","temperatures","mosTemperature","cellVoltages","timestampFromImage"],"context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.164Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"5443ms","message":"Mapped analysis data.","analysisKeys":["dlNumber","stateOfCharge","overallVoltage","current","remainingCapacity","chargeMosOn","dischargeMosOn","balanceOn","highestCellVoltage","lowestCellVoltage","averageCellVoltage","cellVoltageDifference","cycleCount","power","timestampFromImage","fullCapacity","cellVoltages","temperatures","mosTemperature","serialNumber","softwareVersion","hardwareVersion","snCode","temperature","numTempSensors","alerts","summary","status"],"context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.165Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"5444ms","message":"Performing post-analysis calculations.","hasSystem":false,"context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.165Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5444ms","message":"Post-analysis complete.","status":"Critical","alertCount":1,"context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.165Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5444ms","message":"Enriching data with timestamp and weather.","fileName":"diagnostic-sync-test.png","stage":"enrichment","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.165Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"5444ms","message":"Parsing timestamp.","timestampFromImage":null,"fileName":"diagnostic-sync-test.png","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.165Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5444ms","message":"No valid timestamp found in image or filename, using current time.","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.165Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5444ms","message":"Saving analysis record.","fileName":"diagnostic-sync-test.png","stage":"saving","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.301Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5580ms","message":"Successfully saved new analysis record.","fileName":"diagnostic-sync-test.png","stage":"saving","recordId":"01a8a0e0-7e6d-4f96-8d92-83bc7974cf16","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.301Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5580ms","message":"Synchronous analysis test completed successfully.","recordId":"01a8a0e0-7e6d-4f96-8d92-83bc7974cf16","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.301Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5580ms","message":"Running diagnostic: Testing Delete Endpoint...","recordId":"01a8a0e0-7e6d-4f96-8d92-83bc7974cf16","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.417Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5696ms","message":"Running diagnostic: Testing Asynchronous Analysis...","context":{}}
Nov 5, 02:36:38 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:38.551Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5830ms","message":"Test job inserted for async analysis.","jobId":"diagnostic-test-job","context":{}}
Nov 5, 02:36:43 PM: 7249f1a3 ERROR  {"timestamp":"2025-11-06T00:36:43.554Z","level":"ERROR","function":"admin-diagnostics","requestId":"unknown","elapsed":"10833ms","message":"Asynchronous analysis test failed.","error":"This operation was aborted","context":{}}
Nov 5, 02:36:43 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:43.554Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"10833ms","message":"Running diagnostic: Testing Process Analysis Endpoint...","context":{}}
Nov 5, 02:36:43 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:43.554Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"10833ms","message":"Creating test job","jobId":"diagnostic-process-test-1762389403554","context":{}}
Nov 5, 02:36:43 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:43.638Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"10917ms","message":"Invoking process-analysis function","url":"https://bmsview.netlify.app/.netlify/functions/process-analysis","jobId":"diagnostic-process-test-1762389403554","context":{}}
Nov 5, 02:36:49 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:49.756Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"17035ms","message":"Process analysis test completed","jobId":"diagnostic-process-test-1762389403554","finalStatus":"completed","totalDuration":6202,"attempts":0,"context":{}}
Nov 5, 02:36:49 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:49.757Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"17036ms","message":"Running diagnostic: Testing Extract DL Endpoint...","context":{}}
Nov 5, 02:36:49 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:49.757Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"17036ms","message":"Sending extract-dl request","url":"https://bmsview.netlify.app/.netlify/functions/extract-dl","fileName":"diagnostic-extract-test.png","context":{}}
Nov 5, 02:36:50 PM: 7249f1a3 WARN   {"timestamp":"2025-11-06T00:36:50.459Z","level":"WARN","function":"admin-diagnostics","requestId":"unknown","elapsed":"17738ms","message":"Extract DL endpoint returned non-OK response","duration":698,"statusCode":400,"responseData":{"error":"Missing or invalid text field."},"context":{}}
Nov 5, 02:36:50 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:50.459Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"17738ms","message":"Running diagnostic: Testing Generate Insights Endpoint (standard mode)...","context":{}}
Nov 5, 02:36:50 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:36:50.459Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"17738ms","message":"Sending generate-insights request","url":"https://bmsview.netlify.app/.netlify/functions/generate-insights","systemId":"diagnostic-test-system","context":{}}
Nov 5, 02:37:02 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:02.215Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"29494ms","message":"Generate insights test completed successfully.","duration":11755,"statusCode":200,"hasInsights":true,"context":{}}
Nov 5, 02:37:02 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:02.215Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"29494ms","message":"Running diagnostic: Testing Enhanced Insights with Function Calling...","context":{}}
Nov 5, 02:37:17 PM: 7249f1a3 ERROR  {"timestamp":"2025-11-06T00:37:17.217Z","level":"ERROR","function":"admin-diagnostics","requestId":"unknown","elapsed":"44496ms","message":"Enhanced insights test failed.","error":"This operation was aborted","context":{}}
Nov 5, 02:37:17 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:17.217Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"44496ms","message":"Running diagnostic: Testing Debug Insights Endpoint...","context":{}}
Nov 5, 02:37:17 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:17.217Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"44496ms","message":"Sending debug-insights request","url":"https://bmsview.netlify.app/.netlify/functions/debug-insights","context":{}}
Nov 5, 02:37:18 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:18.037Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"45316ms","message":"Debug insights test completed successfully.","duration":819,"statusCode":200,"context":{}}
Nov 5, 02:37:18 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:18.037Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"45316ms","message":"Running diagnostic: Testing History Endpoint...","context":{}}
Nov 5, 02:37:18 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:18.038Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"45317ms","message":"Testing history GET request","url":"https://bmsview.netlify.app/.netlify/functions/history?page=1&limit=5","context":{}}
Nov 5, 02:37:18 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:18.153Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"45432ms","message":"History endpoint test completed successfully.","duration":114,"statusCode":200,"itemCount":5,"totalItems":1251,"context":{}}
Nov 5, 02:37:18 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:18.154Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"45433ms","message":"Running diagnostic: Testing Systems Endpoint...","context":{}}
Nov 5, 02:37:18 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:18.154Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"45433ms","message":"Testing systems GET request","url":"https://bmsview.netlify.app/.netlify/functions/systems?page=1&limit=5","context":{}}
Nov 5, 02:37:18 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:18.736Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"46015ms","message":"Systems endpoint test completed successfully.","duration":581,"statusCode":200,"itemCount":2,"totalItems":2,"context":{}}
Nov 5, 02:37:18 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:18.736Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"46015ms","message":"Running diagnostic: Testing Data Endpoint...","context":{}}
Nov 5, 02:37:18 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:18.736Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"46015ms","message":"Testing data GET request","url":"https://bmsview.netlify.app/.netlify/functions/data","context":{}}
Nov 5, 02:37:19 PM: 7249f1a3 WARN   {"timestamp":"2025-11-06T00:37:19.836Z","level":"WARN","function":"admin-diagnostics","requestId":"unknown","elapsed":"47115ms","message":"Data endpoint returned non-OK response","duration":1099,"statusCode":405,"context":{}}
Nov 5, 02:37:19 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:19.837Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"47116ms","message":"Running diagnostic: Testing Export Data Endpoint...","context":{}}
Nov 5, 02:37:19 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:19.837Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"47116ms","message":"Testing export-data request","url":"https://bmsview.netlify.app/.netlify/functions/export-data?type=history&format=csv","context":{}}
Nov 5, 02:37:22 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:22.344Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"49623ms","message":"Export data test completed successfully.","duration":2507,"statusCode":200,"contentType":"text/csv","context":{}}
Nov 5, 02:37:22 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:22.344Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"49623ms","message":"Running diagnostic: Testing Get Job Status Endpoint...","context":{}}
Nov 5, 02:37:22 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:22.344Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"49623ms","message":"Creating test job for status check","jobId":"diagnostic-status-test-1762389442344","context":{}}
Nov 5, 02:37:22 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:22.412Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"49691ms","message":"Testing get-job-status request","url":"https://bmsview.netlify.app/.netlify/functions/get-job-status?ids=diagnostic-status-test-1762389442344","context":{}}
Nov 5, 02:37:24 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:24.264Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"51543ms","message":"Get job status test completed successfully.","duration":1851,"statusCode":200,"jobCount":1,"jobStatus":"completed","context":{}}
Nov 5, 02:37:24 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:24.265Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"51544ms","message":"Running diagnostic: Testing Job Shepherd Endpoint...","context":{}}
Nov 5, 02:37:24 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:24.265Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"51544ms","message":"Testing job-shepherd request","url":"https://bmsview.netlify.app/.netlify/functions/job-shepherd","context":{}}
Nov 5, 02:37:26 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:26.744Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"54023ms","message":"Job shepherd test completed successfully.","duration":2478,"statusCode":200,"processedJobs":0,"context":{}}
Nov 5, 02:37:26 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:26.745Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"54024ms","message":"Running diagnostic: Testing Weather Service...","context":{}}
Nov 5, 02:37:27 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:27.649Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"54928ms","message":"Running diagnostic: Testing Solar Service...","context":{}}
Nov 5, 02:37:30 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:30.496Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"57775ms","message":"Running diagnostic: Testing System Analytics...","context":{}}
Nov 5, 02:37:31 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:31.272Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"58551ms","message":"Running diagnostic: Testing Contact Endpoint...","context":{}}
Nov 5, 02:37:31 PM: 7249f1a3 WARN   {"timestamp":"2025-11-06T00:37:31.272Z","level":"WARN","function":"admin-diagnostics","requestId":"unknown","elapsed":"58551ms","message":"Contact endpoint test skipped - email not configured","context":{}}
Nov 5, 02:37:31 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:31.272Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"58551ms","message":"Running diagnostic: Testing Get IP Endpoint...","context":{}}
Nov 5, 02:37:31 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:31.272Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"58551ms","message":"Testing get-ip request","url":"https://bmsview.netlify.app/.netlify/functions/get-ip","context":{}}
Nov 5, 02:37:31 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:31.494Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"58773ms","message":"Get IP test completed successfully.","duration":220,"statusCode":200,"hasIP":true,"context":{}}
Nov 5, 02:37:31 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:31.494Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"58773ms","message":"Running diagnostic: Testing Upload Endpoint...","context":{}}
Nov 5, 02:37:31 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:31.494Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"58773ms","message":"Testing upload endpoint availability","url":"https://bmsview.netlify.app/.netlify/functions/upload","context":{}}
Nov 5, 02:37:32 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:32.440Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"59719ms","message":"Upload endpoint test completed successfully.","duration":946,"statusCode":200,"context":{}}
Nov 5, 02:37:32 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:32.440Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"59719ms","message":"Running diagnostic: Testing Security Endpoint...","context":{}}
Nov 5, 02:37:32 PM: 7249f1a3 INFO   {"timestamp":"2025-11-06T00:37:32.440Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"59719ms","message":"Testing security request","url":"https://bmsview.netlify.app/.netlify/functions/security","context":{}}
Nov 5, 02:37:32 PM: 7249f1a3 Duration: 60000 ms	Memory Usage: 140 MB
Nov 5, 02:38:05 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:05.768Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"0ms","message":"Admin diagnostics endpoint called.","method":"POST","body":{"selectedTests":["database","syncAnalysis","asyncAnalysis","weather","solar","systemAnalytics","insightsWithTools","gemini"]},"context":{}}
Nov 5, 02:38:05 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:05.768Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"0ms","message":"Running all diagnostic tests (comprehensive mode)","context":{}}
Nov 5, 02:38:05 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:05.768Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"0ms","message":"Running diagnostic: Testing Database Connection...","context":{}}
Nov 5, 02:38:06 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:06.756Z","level":"INFO","function":"utils/mongodb","requestId":"unknown","elapsed":"1126ms","message":"MongoDB connected successfully with optimized pool settings","context":{}}
Nov 5, 02:38:06 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:06.896Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"1128ms","message":"Database connection test completed successfully.","duration":1127,"context":{}}
Nov 5, 02:38:06 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:06.896Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"1128ms","message":"Running diagnostic: Testing Gemini API Health...","context":{}}
Nov 5, 02:38:07 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:07.616Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"1848ms","message":"Gemini API health check completed.","duration":717,"context":{}}
Nov 5, 02:38:07 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:07.616Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"1848ms","message":"Running diagnostic: Testing Analyze Endpoint (synchronous mode)...","context":{}}
Nov 5, 02:38:07 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:07.616Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"1848ms","message":"Sending analyze request","url":"https://bmsview.netlify.app/.netlify/functions/analyze?sync=true&force=true","fileName":"diagnostic-analyze-test.png","context":{}}
Nov 5, 02:38:07 PM: 627d64f7 WARN   {"timestamp":"2025-11-06T00:38:07.820Z","level":"WARN","function":"admin-diagnostics","requestId":"unknown","elapsed":"2052ms","message":"Analyze endpoint returned non-OK response","duration":203,"statusCode":400,"responseData":{"error":{"code":"invalid_image","message":"Missing image payload"}},"context":{}}
Nov 5, 02:38:07 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:07.820Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"2052ms","message":"Running diagnostic: Testing Synchronous Analysis...","context":{}}
Nov 5, 02:38:07 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:07.821Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"2053ms","message":"Starting analysis pipeline.","fileName":"diagnostic-sync-test.png","stage":"pipeline-start","context":{}}
Nov 5, 02:38:07 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:07.821Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"2053ms","message":"Starting data extraction.","fileName":"diagnostic-sync-test.png","stage":"extraction","context":{}}
Nov 5, 02:38:07 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:07.821Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"2053ms","message":"Sending request to Gemini API via custom client.","model":"gemini-2.5-flash","context":{}}
Nov 5, 02:38:07 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:07.822Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"2054ms","message":"Gemini API request","attempt":1,"maxRetries":4,"context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.380Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4612ms","message":"Gemini API response","duration":2558,"attempt":1,"context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.380Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4612ms","message":"Received response from Gemini API via custom client.","durationMs":2559,"context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.380Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"4612ms","message":"Raw AI response received.","length":414,"preview":"{\"dlNumber\": \"UNKNOWN\", \"stateOfCharge\": 0, \"overallVoltage\": 0, \"current\": 0, \"remainingCapacity\": 0, \"fullCapacity\": null, \"power\": 0, \"chargeMosOn\": false, \"dischargeMosOn\": false, \"balanceOn\": fal","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.380Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"4612ms","message":"Successfully parsed JSON from AI response.","parsedKeys":["dlNumber","stateOfCharge","overallVoltage","current","remainingCapacity","fullCapacity","power","chargeMosOn","dischargeMosOn","balanceOn","highestCellVoltage","lowestCellVoltage","averageCellVoltage","cellVoltageDifference","cycleCount","temperatures","mosTemperature","cellVoltages","timestampFromImage"],"context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.380Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4612ms","message":"Data extraction complete.","fileName":"diagnostic-sync-test.png","stage":"extraction","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.380Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4612ms","message":"Processing and analyzing data.","fileName":"diagnostic-sync-test.png","stage":"processing","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.380Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"4612ms","message":"Mapping extracted data to analysis schema.","extractedKeys":["dlNumber","stateOfCharge","overallVoltage","current","remainingCapacity","fullCapacity","power","chargeMosOn","dischargeMosOn","balanceOn","highestCellVoltage","lowestCellVoltage","averageCellVoltage","cellVoltageDifference","cycleCount","temperatures","mosTemperature","cellVoltages","timestampFromImage"],"context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.380Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"4612ms","message":"Mapped analysis data.","analysisKeys":["dlNumber","stateOfCharge","overallVoltage","current","remainingCapacity","chargeMosOn","dischargeMosOn","balanceOn","highestCellVoltage","lowestCellVoltage","averageCellVoltage","cellVoltageDifference","cycleCount","power","timestampFromImage","fullCapacity","cellVoltages","temperatures","mosTemperature","serialNumber","softwareVersion","hardwareVersion","snCode","temperature","numTempSensors","alerts","summary","status"],"context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.381Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"4613ms","message":"Performing post-analysis calculations.","hasSystem":false,"context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.381Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4613ms","message":"Post-analysis complete.","status":"Critical","alertCount":1,"context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.381Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4613ms","message":"Enriching data with timestamp and weather.","fileName":"diagnostic-sync-test.png","stage":"enrichment","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.381Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"4613ms","message":"Parsing timestamp.","timestampFromImage":null,"fileName":"diagnostic-sync-test.png","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.381Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4613ms","message":"No valid timestamp found in image or filename, using current time.","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.381Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4613ms","message":"Saving analysis record.","fileName":"diagnostic-sync-test.png","stage":"saving","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.518Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4750ms","message":"Successfully saved new analysis record.","fileName":"diagnostic-sync-test.png","stage":"saving","recordId":"c3249753-6707-4356-a3c5-ba0e5e95eec6","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.518Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4750ms","message":"Synchronous analysis test completed successfully.","recordId":"c3249753-6707-4356-a3c5-ba0e5e95eec6","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.519Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4751ms","message":"Running diagnostic: Testing Delete Endpoint...","recordId":"c3249753-6707-4356-a3c5-ba0e5e95eec6","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.646Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"4878ms","message":"Running diagnostic: Testing Asynchronous Analysis...","context":{}}
Nov 5, 02:38:10 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:10.800Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"5032ms","message":"Test job inserted for async analysis.","jobId":"diagnostic-test-job","context":{}}
Nov 5, 02:38:15 PM: 627d64f7 ERROR  {"timestamp":"2025-11-06T00:38:15.802Z","level":"ERROR","function":"admin-diagnostics","requestId":"unknown","elapsed":"10034ms","message":"Asynchronous analysis test failed.","error":"This operation was aborted","context":{}}
Nov 5, 02:38:15 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:15.802Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"10034ms","message":"Running diagnostic: Testing Process Analysis Endpoint...","context":{}}
Nov 5, 02:38:15 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:15.802Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"10034ms","message":"Creating test job","jobId":"diagnostic-process-test-1762389495802","context":{}}
Nov 5, 02:38:15 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:15.873Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"10105ms","message":"Invoking process-analysis function","url":"https://bmsview.netlify.app/.netlify/functions/process-analysis","jobId":"diagnostic-process-test-1762389495802","context":{}}
Nov 5, 02:38:18 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:18.911Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"13143ms","message":"Process analysis test completed","jobId":"diagnostic-process-test-1762389495802","finalStatus":"completed","totalDuration":3109,"attempts":0,"context":{}}
Nov 5, 02:38:18 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:18.911Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"13143ms","message":"Running diagnostic: Testing Extract DL Endpoint...","context":{}}
Nov 5, 02:38:18 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:18.911Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"13143ms","message":"Sending extract-dl request","url":"https://bmsview.netlify.app/.netlify/functions/extract-dl","fileName":"diagnostic-extract-test.png","context":{}}
Nov 5, 02:38:19 PM: 627d64f7 WARN   {"timestamp":"2025-11-06T00:38:19.129Z","level":"WARN","function":"admin-diagnostics","requestId":"unknown","elapsed":"13361ms","message":"Extract DL endpoint returned non-OK response","duration":217,"statusCode":400,"responseData":{"error":"Missing or invalid text field."},"context":{}}
Nov 5, 02:38:19 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:19.130Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"13362ms","message":"Running diagnostic: Testing Generate Insights Endpoint (standard mode)...","context":{}}
Nov 5, 02:38:19 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:19.130Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"13362ms","message":"Sending generate-insights request","url":"https://bmsview.netlify.app/.netlify/functions/generate-insights","systemId":"diagnostic-test-system","context":{}}
Nov 5, 02:38:27 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:27.422Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"21654ms","message":"Generate insights test completed successfully.","duration":8290,"statusCode":200,"hasInsights":true,"context":{}}
Nov 5, 02:38:27 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:27.423Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"21655ms","message":"Running diagnostic: Testing Enhanced Insights with Function Calling...","context":{}}
Nov 5, 02:38:33 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:33.546Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"27778ms","message":"Running diagnostic: Testing Debug Insights Endpoint...","context":{}}
Nov 5, 02:38:33 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:33.546Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"27778ms","message":"Sending debug-insights request","url":"https://bmsview.netlify.app/.netlify/functions/debug-insights","context":{}}
Nov 5, 02:38:33 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:33.607Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"27839ms","message":"Debug insights test completed successfully.","duration":60,"statusCode":200,"context":{}}
Nov 5, 02:38:33 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:33.607Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"27839ms","message":"Running diagnostic: Testing History Endpoint...","context":{}}
Nov 5, 02:38:33 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:33.607Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"27839ms","message":"Testing history GET request","url":"https://bmsview.netlify.app/.netlify/functions/history?page=1&limit=5","context":{}}
Nov 5, 02:38:33 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:33.745Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"27977ms","message":"History endpoint test completed successfully.","duration":136,"statusCode":200,"itemCount":5,"totalItems":1251,"context":{}}
Nov 5, 02:38:33 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:33.745Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"27977ms","message":"Running diagnostic: Testing Systems Endpoint...","context":{}}
Nov 5, 02:38:33 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:33.745Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"27977ms","message":"Testing systems GET request","url":"https://bmsview.netlify.app/.netlify/functions/systems?page=1&limit=5","context":{}}
Nov 5, 02:38:34 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:34.384Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"28616ms","message":"Systems endpoint test completed successfully.","duration":637,"statusCode":200,"itemCount":2,"totalItems":2,"context":{}}
Nov 5, 02:38:34 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:34.384Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"28616ms","message":"Running diagnostic: Testing Data Endpoint...","context":{}}
Nov 5, 02:38:34 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:34.384Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"28616ms","message":"Testing data GET request","url":"https://bmsview.netlify.app/.netlify/functions/data","context":{}}
Nov 5, 02:38:34 PM: 627d64f7 WARN   {"timestamp":"2025-11-06T00:38:34.435Z","level":"WARN","function":"admin-diagnostics","requestId":"unknown","elapsed":"28667ms","message":"Data endpoint returned non-OK response","duration":50,"statusCode":405,"context":{}}
Nov 5, 02:38:34 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:34.435Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"28667ms","message":"Running diagnostic: Testing Export Data Endpoint...","context":{}}
Nov 5, 02:38:34 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:34.435Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"28667ms","message":"Testing export-data request","url":"https://bmsview.netlify.app/.netlify/functions/export-data?type=history&format=csv","context":{}}
Nov 5, 02:38:35 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:35.744Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"29976ms","message":"Export data test completed successfully.","duration":1308,"statusCode":200,"contentType":"text/csv","context":{}}
Nov 5, 02:38:35 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:35.744Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"29976ms","message":"Running diagnostic: Testing Get Job Status Endpoint...","context":{}}
Nov 5, 02:38:35 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:35.744Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"29976ms","message":"Creating test job for status check","jobId":"diagnostic-status-test-1762389515744","context":{}}
Nov 5, 02:38:35 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:35.813Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"30045ms","message":"Testing get-job-status request","url":"https://bmsview.netlify.app/.netlify/functions/get-job-status?ids=diagnostic-status-test-1762389515744","context":{}}
Nov 5, 02:38:36 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:36.453Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"30685ms","message":"Get job status test completed successfully.","duration":638,"statusCode":200,"jobCount":1,"jobStatus":"completed","context":{}}
Nov 5, 02:38:36 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:36.454Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"30686ms","message":"Running diagnostic: Testing Job Shepherd Endpoint...","context":{}}
Nov 5, 02:38:36 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:36.454Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"30686ms","message":"Testing job-shepherd request","url":"https://bmsview.netlify.app/.netlify/functions/job-shepherd","context":{}}
Nov 5, 02:38:37 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:37.418Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"31650ms","message":"Job shepherd test completed successfully.","duration":963,"statusCode":200,"processedJobs":0,"context":{}}
Nov 5, 02:38:37 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:37.418Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"31650ms","message":"Running diagnostic: Testing Weather Service...","context":{}}
Nov 5, 02:38:37 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:37.689Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"31921ms","message":"Running diagnostic: Testing Solar Service...","context":{}}
Nov 5, 02:38:37 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:37.697Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"31929ms","message":"Running diagnostic: Testing System Analytics...","context":{}}
Nov 5, 02:38:38 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:38.468Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"32700ms","message":"Running diagnostic: Testing Contact Endpoint...","context":{}}
Nov 5, 02:38:38 PM: 627d64f7 WARN   {"timestamp":"2025-11-06T00:38:38.468Z","level":"WARN","function":"admin-diagnostics","requestId":"unknown","elapsed":"32700ms","message":"Contact endpoint test skipped - email not configured","context":{}}
Nov 5, 02:38:38 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:38.468Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"32700ms","message":"Running diagnostic: Testing Get IP Endpoint...","context":{}}
Nov 5, 02:38:38 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:38.468Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"32700ms","message":"Testing get-ip request","url":"https://bmsview.netlify.app/.netlify/functions/get-ip","context":{}}
Nov 5, 02:38:38 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:38.584Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"32816ms","message":"Get IP test completed successfully.","duration":115,"statusCode":200,"hasIP":true,"context":{}}
Nov 5, 02:38:38 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:38.584Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"32816ms","message":"Running diagnostic: Testing Upload Endpoint...","context":{}}
Nov 5, 02:38:38 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:38.584Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"32816ms","message":"Testing upload endpoint availability","url":"https://bmsview.netlify.app/.netlify/functions/upload","context":{}}
Nov 5, 02:38:38 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:38.643Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"32875ms","message":"Upload endpoint test completed successfully.","duration":59,"statusCode":200,"context":{}}
Nov 5, 02:38:38 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:38.643Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"32875ms","message":"Running diagnostic: Testing Security Endpoint...","context":{}}
Nov 5, 02:38:38 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:38.644Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"32876ms","message":"Testing security request","url":"https://bmsview.netlify.app/.netlify/functions/security","context":{}}
Nov 5, 02:38:39 PM: 627d64f7 WARN   {"timestamp":"2025-11-06T00:38:39.207Z","level":"WARN","function":"admin-diagnostics","requestId":"unknown","elapsed":"33439ms","message":"Security endpoint returned non-OK response","duration":562,"statusCode":502,"context":{}}
Nov 5, 02:38:39 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:39.207Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"33439ms","message":"Running diagnostic: Testing Predictive Maintenance Endpoint...","context":{}}
Nov 5, 02:38:39 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:39.273Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"33505ms","message":"Testing predictive-maintenance request","url":"https://bmsview.netlify.app/.netlify/functions/predictive-maintenance?systemId=6ac431c7-fb5d-4714-8b2f-c16e2e9bc8dd","systemId":"6ac431c7-fb5d-4714-8b2f-c16e2e9bc8dd","context":{}}
Nov 5, 02:38:40 PM: 627d64f7 WARN   {"timestamp":"2025-11-06T00:38:40.163Z","level":"WARN","function":"admin-diagnostics","requestId":"unknown","elapsed":"34395ms","message":"Predictive maintenance endpoint returned non-OK response","duration":955,"statusCode":405,"context":{}}
Nov 5, 02:38:40 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:40.163Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"34395ms","message":"Running diagnostic: Testing IP Admin Endpoint...","context":{}}
Nov 5, 02:38:40 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:40.163Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"34395ms","message":"Testing ip-admin request","url":"https://bmsview.netlify.app/.netlify/functions/ip-admin","context":{}}
Nov 5, 02:38:40 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:40.824Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"35056ms","message":"IP Admin test completed successfully.","duration":661,"statusCode":200,"context":{}}
Nov 5, 02:38:40 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:40.825Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"35057ms","message":"Running diagnostic: Testing Admin Systems Endpoint...","context":{}}
Nov 5, 02:38:40 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:40.825Z","level":"DEBUG","function":"admin-diagnostics","requestId":"unknown","elapsed":"35057ms","message":"Testing admin-systems request","url":"https://bmsview.netlify.app/.netlify/functions/admin-systems?adopted=false","context":{}}
Nov 5, 02:38:42 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:42.836Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"37068ms","message":"Admin systems test completed successfully.","duration":2010,"statusCode":200,"systemCount":0,"context":{}}
Nov 5, 02:38:42 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:42.837Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"37069ms","message":"Running comprehensive test suite...","selectedTests":null,"context":{}}
Nov 5, 02:38:42 PM: 627d64f7 INFO   {"timestamp":"2025-11-06T00:38:42.837Z","level":"INFO","function":"admin-diagnostics","requestId":"unknown","elapsed":"37069ms","message":"All diagnostic tests completed.","summary":{"total":28,"success":21,"failure":6,"skipped":1,"successRate":"75.00"},"testCount":28,"context":{}}
Nov 5, 02:38:42 PM: 627d64f7 Duration: 37642.66 ms	Memory Usage: 150 MB